<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wildfire ‚Ä¢ 6 Carduri Diferite</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    
    body {
      background: #0a0a0a;
      min-height: 100vh;
      padding: 30px;
      color: #fff;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    .header {
      background: #0f0f0f;
      border: 1px solid #ff4500;
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    h1 {
      font-size: 28px;
      font-weight: 800;
      background: linear-gradient(135deg, #fff, #ffd700);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .stats {
      display: flex;
      gap: 15px;
    }
    
    .stat {
      background: #1a1a1a;
      border: 1px solid #ff4500;
      border-radius: 30px;
      padding: 8px 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .stat-value {
      color: #ff4500;
      font-weight: 700;
      font-size: 20px;
    }
    
    .slot-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-bottom: 25px;
    }
    
    .slot-card {
      background: #0f0f0f;
      border: 1px solid #ff4500;
      border-radius: 16px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .slot-card:hover {
      transform: translateY(-2px);
      border-color: #ffd700;
      box-shadow: 0 8px 16px -8px #ff4500;
    }
    
    .slot-card.selected {
      border-color: #ffd700;
      box-shadow: 0 0 0 2px #ffd700;
    }
    
    .slot-number {
      font-size: 24px;
      font-weight: 800;
      color: #ff4500;
      margin-bottom: 8px;
    }
    
    .slot-status {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 8px;
    }
    
    .slot-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .slot-category {
      font-size: 11px;
      color: #ff4500;
    }
    
    .preview-section {
      background: #0f0f0f;
      border: 1px solid #ff4500;
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 25px;
    }
    
    .preview-title {
      font-size: 16px;
      font-weight: 600;
      color: #ffd700;
      margin-bottom: 15px;
    }
    
    .preview-card {
      background: #0a0a0a;
      border-radius: 14px;
      padding: 16px;
      max-width: 350px;
      margin: 0 auto;
    }
    
    .preview-category {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 10px;
    }
    
    .preview-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    
    .preview-cat-name {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      color: #9ca3af;
    }
    
    .preview-card-title {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 12px;
    }
    
    .preview-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
      padding-bottom: 10px;
      border-bottom: 1px solid #ff4500;
      font-size: 11px;
    }
    
    .preview-user {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .preview-avatar {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      border: 2px solid #ff4500;
    }
    
    .preview-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .preview-tags {
      display: flex;
      gap: 6px;
    }
    
    .preview-tag {
      padding: 3px 10px;
      font-size: 9px;
      font-weight: 600;
      border-radius: 30px;
      border: 1px solid;
    }
    
    .preview-btn {
      padding: 4px 12px;
      border-radius: 30px;
      background: rgba(255,69,0,0.1);
      color: #ff4500;
      font-size: 10px;
      font-weight: 600;
    }
    
    .editor {
      background: #0f0f0f;
      border: 1px solid #ff4500;
      border-radius: 16px;
      padding: 25px;
    }
    
    .editor-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }
    
    .editor-title {
      font-size: 20px;
      font-weight: 700;
    }
    
    .editor-title span {
      color: #ffd700;
    }
    
    .copy-tools {
      display: flex;
      gap: 8px;
    }
    
    .copy-btn {
      background: #1a1a1a;
      border: 1px solid #ff4500;
      border-radius: 20px;
      padding: 6px 14px;
      color: white;
      cursor: pointer;
      font-size: 12px;
      transition: all 0.2s;
    }
    
    .copy-btn:hover {
      background: #ff4500;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 16px;
    }
    
    .form-group {
      margin-bottom: 12px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      color: #9ca3af;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
    }
    
    input, select {
      width: 100%;
      padding: 10px 14px;
      background: #1a1a1a;
      border: 1px solid #ff4500;
      border-radius: 10px;
      color: white;
      font-size: 14px;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: #ffd700;
    }
    
    .color-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }
    
    .color-opt {
      background: #1a1a1a;
      border: 1px solid #ff4500;
      border-radius: 8px;
      padding: 8px 4px;
      text-align: center;
      cursor: pointer;
      font-size: 11px;
      transition: all 0.2s;
    }
    
    .color-opt:hover {
      border-color: #ffd700;
    }
    
    .color-opt.selected {
      background: rgba(255,69,0,0.2);
      border-color: #ffd700;
    }
    
    .copy-panel {
      background: #1a1a1a;
      border: 1px dashed #ff4500;
      border-radius: 12px;
      padding: 15px;
      margin-top: 15px;
      display: none;
    }
    
    .copy-panel.active {
      display: block;
    }
    
    .slot-selector {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin: 10px 0;
    }
    
    .slot-option {
      background: #0f0f0f;
      border: 1px solid #ff4500;
      border-radius: 8px;
      padding: 6px 12px;
      cursor: pointer;
      font-size: 12px;
    }
    
    .slot-option.selected {
      background: rgba(255,69,0,0.3);
      border-color: #ffd700;
    }
    
    .action-btns {
      display: flex;
      gap: 12px;
      margin-top: 20px;
    }
    
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 30px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      flex: 1;
    }
    
    .btn-reset {
      background: #1a1a1a;
      border: 1px solid #ff4500;
      color: white;
    }
    
    .btn-reset:hover {
      background: #2a2a2a;
    }
    
    .btn-save {
      background: linear-gradient(135deg, #ff4500, #ff8c00);
      color: white;
    }
    
    .btn-save:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(255,69,0,0.3);
    }
    
    .status {
      margin-top: 15px;
      padding: 12px;
      border-radius: 8px;
      display: none;
    }
    
    .status.success {
      display: block;
      background: rgba(16,185,129,0.2);
      color: #10b981;
      border: 1px solid #10b981;
    }
    
    .status.error {
      display: block;
      background: rgba(239,68,68,0.2);
      color: #ef4444;
      border: 1px solid #ef4444;
    }
    
    @media (max-width: 1024px) {
      .slot-grid { grid-template-columns: repeat(2, 1fr); }
    }
    
    @media (max-width: 768px) {
      .slot-grid { grid-template-columns: 1fr; }
      .form-row { grid-template-columns: 1fr; }
      .action-btns { flex-direction: column; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üî• WILDFIRE ‚Ä¢ 6 CARDURI DIFERITE</h1>
      <div class="stats">
        <div class="stat"><span class="stat-value" id="total">6</span> Total</div>
        <div class="stat"><span class="stat-value" id="active">0</span> Active</div>
        <div class="stat"><span class="stat-value" id="current">1</span> Curent</div>
      </div>
    </div>
    
    <div class="slot-grid" id="slotGrid"></div>
    
    <div class="preview-section">
      <div class="preview-title">üëÅÔ∏è PREVIEW CARD</div>
      <div id="previewCard" class="preview-card">
        <div class="preview-category">
          <span class="preview-dot" id="previewDot" style="background: #ff4500;"></span>
          <span class="preview-cat-name" id="previewCategory">Categorie</span>
        </div>
        <div class="preview-card-title" id="previewTitle">Titlu card</div>
        <div class="preview-meta">
          <span id="previewDate">üìÖ zz.ll.aaaa</span>
          <div class="preview-user">
            <img src="" class="preview-avatar" id="previewAvatar" onerror="this.src='https://github.com/identicons/default.png'">
            <span id="previewUser">user</span>
          </div>
        </div>
        <div class="preview-footer">
          <div class="preview-tags">
            <span class="preview-tag" id="previewTag1">tag1</span>
            <span class="preview-tag" id="previewTag2">tag2</span>
          </div>
          <span class="preview-btn" id="previewBtn">vezi ‚Üí</span>
        </div>
      </div>
    </div>
    
    <div class="editor">
      <div class="editor-header">
        <div class="editor-title">‚úèÔ∏è EditeazƒÉ <span id="currentSlot">Slot 1</span></div>
        <div class="copy-tools">
          <button class="copy-btn" onclick="showCopyPanel()">üìã CopiazƒÉ</button>
          <button class="copy-btn" onclick="showPastePanel()">üìå Paste</button>
        </div>
      </div>
      
      <div id="copyPanel" class="copy-panel">
        <h4 style="margin-bottom:10px;">CopiazƒÉ √Æn:</h4>
        <div class="slot-selector" id="copySlots"></div>
        <button class="btn btn-save" style="margin-top:10px;" onclick="executeCopy()">ConfirmƒÉ copiere</button>
      </div>
      
      <div id="pastePanel" class="copy-panel">
        <h4 style="margin-bottom:10px;">Paste din:</h4>
        <div class="slot-selector" id="pasteSlots"></div>
        <button class="btn btn-save" style="margin-top:10px;" onclick="executePaste()">ConfirmƒÉ paste</button>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>Status</label>
          <select id="activeSel" onchange="updatePreview()">
            <option value="true">‚úÖ ACTIV</option>
            <option value="false">‚ùå INACTIV</option>
          </select>
        </div>
        <div class="form-group">
          <label>Culoare</label>
          <div id="colorGrid" class="color-grid"></div>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group"><label>Categorie</label><input id="cat" oninput="updatePreview()" placeholder="SKINS"></div>
        <div class="form-group"><label>Titlu</label><input id="title" oninput="updatePreview()" placeholder="Cases System"></div>
      </div>
      
      <div class="form-row">
        <div class="form-group"><label>Data</label><input id="date" oninput="updatePreview()" placeholder="16.02.2026"></div>
        <div class="form-group"><label>Username</label><input id="user" oninput="updatePreview()" placeholder="ianncxd"></div>
      </div>
      
      <div class="form-row">
        <div class="form-group"><label>Tag 1</label><input id="tag1" oninput="updatePreview()" placeholder="skins"></div>
        <div class="form-group"><label>Tag 2</label><input id="tag2" oninput="updatePreview()" placeholder="crate"></div>
      </div>
      
      <div class="form-row">
        <div class="form-group"><label>Link</label><input id="link" placeholder="/systems/skins/cases"></div>
        <div class="form-group"><label>Buton</label><input id="btnText" oninput="updatePreview()" placeholder="deschide"></div>
      </div>
      
      <div class="action-btns">
        <button class="btn btn-reset" onclick="resetForm()">üîÑ RESETEAZƒÇ</button>
        <button class="btn btn-save" onclick="saveCurrentSlot()">üíæ SALVEAZƒÇ</button>
      </div>
      
      <div id="status" class="status"></div>
    </div>
  </div>
  
  <script>
    let cards = {
      card1: { active: false, dotClass: 'dot-blue', category: '', title: '', date: '', username: '', tagColor: 'blue', tag1: '', tag2: '', link: '', buttonText: '' },
      card2: { active: false, dotClass: 'dot-orange', category: '', title: '', date: '', username: '', tagColor: 'orange', tag1: '', tag2: '', link: '', buttonText: '' },
      card3: { active: false, dotClass: 'dot-teal', category: '', title: '', date: '', username: '', tagColor: 'teal', tag1: '', tag2: '', link: '', buttonText: '' },
      card4: { active: false, dotClass: 'dot-amber', category: '', title: '', date: '', username: '', tagColor: 'amber', tag1: '', tag2: '', link: '', buttonText: '' },
      card5: { active: false, dotClass: 'dot-purple', category: '', title: '', date: '', username: '', tagColor: 'purple', tag1: '', tag2: '', link: '', buttonText: '' },
      card6: { active: false, dotClass: 'dot-pink', category: '', title: '', date: '', username: '', tagColor: 'pink', tag1: '', tag2: '', link: '', buttonText: '' }
    }
    
    let colors = [{"id":"blue","name":"Albastru","dot":"dot-blue","tag":"blue","category":"INFORMATII","hex":"#3b82f6","emoji":"üîµ"},{"id":"orange","name":"Portocaliu","dot":"dot-orange","tag":"orange","category":"SKINS","hex":"#f97316","emoji":"üü†"},{"id":"teal","name":"Turcoaz","dot":"dot-teal","tag":"teal","category":"GAMBLING","hex":"#14b8a6","emoji":"üü¢"},{"id":"amber","name":"Galben","dot":"dot-amber","tag":"amber","category":"CURRENCY","hex":"#f59e0b","emoji":"üü°"},{"id":"purple","name":"Violet","dot":"dot-purple","tag":"purple","category":"PREMIUM","hex":"#8b5cf6","emoji":"üü£"},{"id":"pink","name":"Roz","dot":"dot-pink","tag":"pink","category":"MARKET","hex":"#ec4899","emoji":"üå∏"},{"id":"red","name":"Ro»ôu","dot":"dot-red","tag":"red","category":"ANTI-CHEAT","hex":"#ef4444","emoji":"üî¥"},{"id":"green","name":"Verde","dot":"dot-green","tag":"green","category":"EVENIMENTE","hex":"#10b981","emoji":"üü¢"}]
    let currentSlot = 1
    let selectedColor = 'blue'
    
    async function loadCards() {
      try {
        const res = await fetch('/api/cards')
        const data = await res.json()
        if (data.success) cards = data.cards
      } catch (e) {}
      updateUI()
    }
    
    function updateUI() {
      renderSlots()
      updateStats()
      renderColorOptions()
      loadSlot(currentSlot)
    }
    
    function renderSlots() {
      let html = ''
      for (let i = 1; i <= 6; i++) {
        const card = cards[`card${i}`] || {}
        html += `
          <div class="slot-card ${currentSlot === i ? 'selected' : ''}" onclick="selectSlot(${i})">
            <div class="slot-number">#${i}</div>
            <div class="slot-status">${card.active ? 'ACTIV' : 'INACTIV'}</div>
            <div class="slot-title">${card.title || 'Card gol'}</div>
            <div class="slot-category">${card.category || ''}</div>
          </div>
        `
      }
      document.getElementById('slotGrid').innerHTML = html
    }
    
    function selectSlot(i) {
      currentSlot = i
      document.getElementById('current').innerText = i
      renderSlots()
      loadSlot(i)
    }
    
    function loadSlot(i) {
      const card = cards[`card${i}`] || {}
      document.getElementById('activeSel').value = card.active ? 'true' : 'false'
      document.getElementById('cat').value = card.category || ''
      document.getElementById('title').value = card.title || ''
      document.getElementById('date').value = card.date || ''
      document.getElementById('user').value = card.username || ''
      document.getElementById('tag1').value = card.tag1 || ''
      document.getElementById('tag2').value = card.tag2 || ''
      document.getElementById('link').value = card.link || ''
      document.getElementById('btnText').value = card.buttonText || ''
      
      document.getElementById('currentSlot').innerText = `Slot ${i}`
      
      if (card.dotClass) {
        const col = colors.find(c => c.dot === card.dotClass)
        if (col) selectedColor = col.id
      }
      renderColorOptions()
      updatePreview()
    }
    
    function updateStats() {
      let active = 0
      for (let i = 1; i <= 6; i++) {
        if (cards[`card${i}`]?.active) active++
      }
      document.getElementById('active').innerText = active
    }
    
    function renderColorOptions() {
      let html = ''
      colors.forEach(c => {
        html += `<div class="color-opt ${c.id === selectedColor ? 'selected' : ''}" onclick="selectColor('${c.id}')">${c.emoji} ${c.name}</div>`
      })
      document.getElementById('colorGrid').innerHTML = html
    }
    
    function selectColor(id) {
      selectedColor = id
      renderColorOptions()
      updatePreview()
    }
    
    function updatePreview() {
      const colorInfo = colors.find(c => c.id === selectedColor) || colors[0]
      document.getElementById('previewDot').style.background = colorInfo.hex
      document.getElementById('previewCategory').innerText = document.getElementById('cat').value || 'Categorie'
      document.getElementById('previewTitle').innerText = document.getElementById('title').value || 'Titlu card'
      document.getElementById('previewDate').innerHTML = `üìÖ ${document.getElementById('date').value || 'zz.ll.aaaa'}`
      document.getElementById('previewUser').innerText = document.getElementById('user').value || 'user'
      document.getElementById('previewAvatar').src = `https://github.com/${document.getElementById('user').value || 'user'}.png`
      document.getElementById('previewTag1').innerText = document.getElementById('tag1').value || 'tag1'
      document.getElementById('previewTag2').innerText = document.getElementById('tag2').value || 'tag2'
      document.getElementById('previewTag1').style.color = colorInfo.hex
      document.getElementById('previewTag1').style.borderColor = colorInfo.hex
      document.getElementById('previewTag2').style.color = colorInfo.hex
      document.getElementById('previewTag2').style.borderColor = colorInfo.hex
      document.getElementById('previewBtn').innerText = `${document.getElementById('btnText').value || 'vezi'} ‚Üí`
    }
    
    function resetForm() {
      document.getElementById('activeSel').value = 'false'
      document.getElementById('cat').value = ''
      document.getElementById('title').value = ''
      document.getElementById('date').value = ''
      document.getElementById('user').value = ''
      document.getElementById('tag1').value = ''
      document.getElementById('tag2').value = ''
      document.getElementById('link').value = ''
      document.getElementById('btnText').value = ''
      updatePreview()
    }
    
    function showCopyPanel() {
      document.getElementById('pastePanel').classList.remove('active')
      const panel = document.getElementById('copyPanel')
      panel.classList.toggle('active')
      if (panel.classList.contains('active')) {
        let html = ''
        for (let i = 1; i <= 6; i++) {
          if (i !== currentSlot) {
            html += `<div class="slot-option" onclick="toggleCopySlot(${i})" id="copySlot${i}">Slot ${i}</div>`
          }
        }
        document.getElementById('copySlots').innerHTML = html
      }
    }
    
    function showPastePanel() {
      document.getElementById('copyPanel').classList.remove('active')
      const panel = document.getElementById('pastePanel')
      panel.classList.toggle('active')
      if (panel.classList.contains('active')) {
        let html = ''
        for (let i = 1; i <= 6; i++) {
          if (i !== currentSlot) {
            html += `<div class="slot-option" onclick="selectPasteSlot(${i})" id="pasteSlot${i}">Slot ${i}</div>`
          }
        }
        document.getElementById('pasteSlots').innerHTML = html
      }
    }
    
    let copySlots = []
    function toggleCopySlot(slot) {
      const el = document.getElementById(`copySlot${slot}`)
      if (copySlots.includes(slot)) {
        copySlots = copySlots.filter(s => s !== slot)
        el.classList.remove('selected')
      } else {
        copySlots.push(slot)
        el.classList.add('selected')
      }
    }
    
    async function executeCopy() {
      if (copySlots.length === 0) {
        showStatus('SelecteazƒÉ sloturi', 'error')
        return
      }
      
      const sourceCard = cards[`card${currentSlot}`]
      if (!sourceCard || !sourceCard.title) {
        showStatus('Slotul sursƒÉ este gol', 'error')
        return
      }
      
      try {
        const res = await fetch('/api/card/copy', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ source: currentSlot, targets: copySlots })
        })
        const data = await res.json()
        
        if (data.success) {
          showStatus(`Copiat √Æn sloturile ${copySlots.join(', ')}`, 'success')
          setTimeout(() => location.reload(), 1500)
        }
      } catch (e) {
        showStatus('Eroare', 'error')
      }
    }
    
    let pasteSlot = null
    function selectPasteSlot(slot) {
      pasteSlot = slot
      document.querySelectorAll('#pasteSlots .slot-option').forEach(el => el.classList.remove('selected'))
      document.getElementById(`pasteSlot${slot}`).classList.add('selected')
    }
    
    async function executePaste() {
      if (!pasteSlot) {
        showStatus('SelecteazƒÉ un slot sursƒÉ', 'error')
        return
      }
      
      try {
        const res = await fetch('/api/card/copy', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ source: pasteSlot, targets: [currentSlot] })
        })
        const data = await res.json()
        
        if (data.success) {
          showStatus(`Copiat din slot ${pasteSlot}`, 'success')
          setTimeout(() => location.reload(), 1500)
        }
      } catch (e) {
        showStatus('Eroare', 'error')
      }
    }
    
    async function saveCurrentSlot() {
      const colorInfo = colors.find(c => c.id === selectedColor)
      if (!colorInfo) return showStatus('Alege o culoare', 'error')
      
      const data = {
        slot: currentSlot,
        active: document.getElementById('activeSel').value === 'true',
        dotClass: colorInfo.dot,
        category: document.getElementById('cat').value,
        title: document.getElementById('title').value,
        date: document.getElementById('date').value,
        username: document.getElementById('user').value,
        tagColor: colorInfo.tag,
        tag1: document.getElementById('tag1').value,
        tag2: document.getElementById('tag2').value,
        link: document.getElementById('link').value,
        buttonText: document.getElementById('btnText').value
      }
      
      if (!data.title || !data.category || !data.date || !data.username) {
        return showStatus('CompleteazƒÉ toate c√¢mpurile', 'error')
      }
      
      try {
        const res = await fetch('/api/card/save', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        })
        const resData = await res.json()
        
        if (resData.success) {
          showStatus(`Slot ${currentSlot} salvat!`, 'success')
          cards[`card${currentSlot}`] = {
            active: data.active,
            dotClass: data.dotClass,
            category: data.category,
            title: data.title,
            date: data.date,
            username: data.username,
            tagColor: data.tagColor,
            tag1: data.tag1,
            tag2: data.tag2,
            link: data.link,
            buttonText: data.buttonText
          }
          renderSlots()
          updateStats()
          loadSlot(currentSlot)
        }
      } catch (e) {
        showStatus('Eroare', 'error')
      }
    }
    
    function showStatus(msg, type) {
      const status = document.getElementById('status')
      status.className = 'status ' + type
      status.innerText = msg
      setTimeout(() => status.className = 'status', 2000)
    }
    
    loadCards()
  </script>
</body>
</html>